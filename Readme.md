#  MalwareDetection

The main function of the project is malware detection

## 1.Requirements

- **Windows **

- CUDA 10.0

- Python 3.7

  - PyTorch 0.4.1
  - Torchvision 0.2.2
  - Tqdm
  - Numpy
  - Pandas
  - Matplotlib
  - Imageio
  - Pillow
  - Opencv-python
  - Sklearn
  - Xgboost
  - Scikit-image
## 2. Dataset
We use the data from Malware Classification Challenge 2015
You can download the bytes data from :
```
https://www.kaggle.com/c/malware-classification/data?select=train.7z
```
and download the annotation label file from :
```
https://www.kaggle.com/c/malware-classification/data?select=trainLabels.csv
```
You can split the dataset to trainset and valset by my script
```
python utils/datasplit.py
```
And  valset files I used  can be referred to val_file.csv
## 3.How to use

### 3.1  Install the python environment

First ,you need to install Anaconda first,which can be download from https://www.anaconda.com/.

```
$ conda create -n malware python==3.7
$ conda activate malware
$ cd $project
$ pip install -r requirement.txt
```
### 3.2 Quick Start

```
python malware_detection.py -i $input_data -m $checkpoint
```

$input_data can be single .bytes file or a folder that  saved some bytes files.

$checkpoint is torch model, you can easily input "checkModel.pth"

You can get output like this:

![result](figures\result.jpg)

## 4.Result

I used this method:
- Linear Regression
- SVM
- RandomForest
- Xgboost 
- CNN methods. 

The following are the experimental results

| Method                | **Accuracy** |
| --------------------- | -------- |
| **Linear Regression** | 82.1 |
| **SVM**    | 85.9 ( part data ) |
| **RandomForest**      | 87.4     |
| **Xgboost**           | 92.3 |
| **CNN methods**       | **99.2** |

CNN method achieved the best results
